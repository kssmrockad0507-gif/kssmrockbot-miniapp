<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>KSSM Rock â€“ Fun Mode</title>

<!-- MONETAG SDK -->
<script src="//libtl.com/sdk.js"
        data-zone="10324603"
        data-sdk="show_10324603"></script>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,#0e5d63,#07404b);
  color:#fff;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.card{
  background:#fff;
  color:#000;
  width:90%;
  max-width:420px;
  padding:20px;
  border-radius:18px;
  text-align:center;
  box-shadow:0 10px 25px rgba(0,0,0,.25);
}
h2{
  margin-top:0;
  color:#0e5d63;
}
#toy{
  font-size:90px;
  margin:20px 0;
  cursor:pointer;
  transition:transform .15s;
}
#toy:active{
  transform:scale(0.9);
}
.info{
  font-size:14px;
  color:#555;
}
</style>
</head>

<body>

<div class="card">
  <h2>ğŸ‰ Fun Mode</h2>

  <p>Tap à®ªà®£à¯à®£à¯ ğŸ˜„ Reaction à®ªà®¾à®°à¯!</p>

  <!-- CARTOON / TOY -->
  <div id="toy">ğŸ˜º</div>

  <div class="info" id="info">Free taps left: 10</div>
</div>

<!-- SIMPLE SOUND -->
<audio id="tapSound">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" type="audio/ogg">
</audio>

<script>
let taps = Number(localStorage.getItem("funTaps") || 0);
const LIMIT = 10;

const toy = document.getElementById("toy");
const info = document.getElementById("info");
const sound = document.getElementById("tapSound");

const reactions = ["ğŸ˜º","ğŸ˜¹","ğŸ˜»","ğŸ™€","ğŸ˜¸","ğŸ˜¼","ğŸ˜½","ğŸ±","ğŸ¶","ğŸµ"];

function updateInfo(){
  let left = LIMIT - (taps % (LIMIT+1));
  if(left === 0){
    info.innerText = "One short ad for more fun ğŸ™‚";
  }else{
    info.innerText = "Free taps left: " + left;
  }
}

toy.onclick = () => {

  // play sound
  sound.currentTime = 0;
  sound.play();

  // change reaction
  toy.innerText = reactions[Math.floor(Math.random()*reactions.length)];

  taps++;
  localStorage.setItem("funTaps", taps);

  // every 11th tap â†’ ad
  if(taps % (LIMIT+1) === 0){

    show_10324603('pop')
      .then(() => {
        // ad watched / closed
        updateInfo();
      })
      .catch(e => {
        alert("Ad not available now, try later");
      });

  }else{
    updateInfo();
  }
};

updateInfo();
</script>

</body>
</html>
